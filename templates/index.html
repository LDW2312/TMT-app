<!DOCTYPE html>
<html lang="ko">
<head>
	<meta charset="UTF-8" />
	<meta name="viewport" content="width=device-width, initial-scale=1.0" />
	<title>주의력 검사 - 순서 연결</title>
	<link rel="stylesheet" href="{{ url_for('static', filename='css/style.css') }}" />
</head>
<body>
	<h1>주의력 검사 - 순서 연결</h1>
	<p id="subtitle" style="font-size: 0.9em; color: #777;">Trail Making Test (Part B)</p>
	<p id="user-info"></p>
	<div id="tmt-area" class="tmt-box"></div>
	<p id="status" class="status-text"></p>

	<!-- 설명 모달 (1단계) -->
	<div id="intro-modal" class="modal" style="display: block;">
		<div class="modal-content">
			<h3>🧠 주의력(TMT-B) 검사 설명</h3>
			<p style="font-size: 0.9em; line-height: 1.5;">
				TMT-B는 숫자와 알파벳을 번갈아 가며 순서대로 클릭하는 주의력 검사입니다.<br>
				예시: 1 → A → 2 → B → 3 → C → ...<br><br>
				화면에 나타난 원을 순서대로 클릭해야 하며,<br>
				도중에 돌발 상황(빨간 화면)이 나타나면 즉시 빨간 화면을 클릭해 주세요.<br><br>
				검사는 약 1~2분 정도 소요됩니다.<br><br>
				👉 아래 "다음" 버튼을 눌러 사용자 정보를 입력해 주세요.
			</p>
			<button id="go-to-user-info">다음</button>
		</div>
	</div>

	<!-- 사용자 정보 입력 모달 (2단계) -->
	<div id="user-modal" class="modal">
		<div class="modal-content">
			<h3>사용자 정보 입력</h3>
			<label>이름: <input type="text" id="name-input" /></label><br/>
			<label>나이: <input type="number" id="age-input" min="20" max="80" /></label><br/>
			<label>전화번호 끝 4자리: <input type="text" id="phone-input" maxlength="4" /></label><br/>
			<button id="submit-btn">시작</button>
		</div>
	</div>

	<!-- 검사 결과 팝업 모달 -->
	<div id="result-modal" class="modal" style="display: none;">
		<div class="modal-content">
			<h3>🧠 검사 결과</h3>
			<p id="result-text" style="white-space: pre-line;"></p>
			<p style="font-size: 0.82em; color: #666; margin-top: 15px; line-height: 1.5; text-align: left;">
				⚠️ <b>참고사항:</b> 본 결과 해석은 Tombaugh (2004)의 외국인 대상 연구 데이터를 기반으로 하였으며,<br>
				국내 인구집단 기준과는 차이가 있을 수 있으므로 <b>참고용</b>으로만 활용해 주세요.
			</p>
			<button id="close-result-btn">확인</button>
		</div>
	</div>

	<script src="{{ url_for('static', filename='js/tmt.js') }}"></script>
	<script>
		document.addEventListener("DOMContentLoaded", () => {
			document.getElementById("go-to-user-info").onclick = () => {
				document.getElementById("intro-modal").style.display = "none";
				document.getElementById("user-modal").style.display = "block";
			};
		});
	</script>
</body>
</html>
